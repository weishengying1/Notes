https://zhuanlan.zhihu.com/p/17902707986

# bank 冲突
为了获得更高的共享内存带宽, 共享内存在硬件上被划分为了 32 个区域, 叫作 32 个 bank. 正好一一对应线程束的 32 个线程, 在执行一个线程束的时候, 这种设计是允许 32 个 bank 被 32 个线程同时访问的. 也就是说在最好的情况下, 只需要一次内存事务就可以获取 32 个线程所需要的数据.

假设 bank 宽度 4 字节, 共享内存到 bank 的映射方式是: 共享内存中连续 128 字节的内容分摊到 32 个 bank 的某一层. 比如, 长度为 128 的单精度数组, 第 0-31 个元素对应 bank 的第一层, 每个 bank 对应一个元素; 第 32-63 个元素对应到第二层的 32 个 bank...

bank 冲突只发生在 shared memory 读写中；

bank 冲突只发生在一个线程束内， warp 之间不存在 bank 冲突；

当一个线程束内，不同线程，访问同一个 bank 的数据时，则会产生 bank 冲突。

# prefix sum
